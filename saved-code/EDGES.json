{"name":"default","code":"function process(input, output) {\n\tvar filter = [[0,-1,0],[-1,4,-1],[0,-1,0]];\n\tconvolve(input, output, filter);\n\tcthreshold(output, output, 0.05);\n}\n\nfunction convolve(input, output, filter) {\n\tvar hh = (filter.length / 2)>>0, hw = (filter[0].length / 2)>>0;\n\tvar x, y, xx, yy;\n    for (y=hh; y<output.height-hh; y++) {\n        for (x=hw; x<output.width-hw; x++) {\n        \toutput[y][x].r = 0;\n            output[y][x].g = 0;\n            output[y][x].b = 0;\n\n            for (yy=-hh; yy<=hh; yy++) {\n            \tfor (xx=-hw; xx<=hw; xx++) {\n            \t\toutput[y][x].r += filter[yy+1][xx+1] * input[y+yy][x+xx].r;\n            \t\toutput[y][x].g += filter[yy+1][xx+1] * input[y+yy][x+xx].g;\n            \t\toutput[y][x].b += filter[yy+1][xx+1] * input[y+yy][x+xx].b;\n            \t}\n            }\n        }\n    }\n}\n\nfunction cthreshold(input, output, value) {\n\tvar x, y;\n    for (y=0; y<output.height; y++) {\n        for (x=0; x<output.width; x++) {\n        \tif (input[y][x].r>value) output[y][x].r=1;\n        \telse output[y][x].r=0;\n\n        \tif (input[y][x].g>value) output[y][x].g=1;\n        \telse output[y][x].g=0;\n\n        \tif (input[y][x].b>value) output[y][x].b=1;\n        \telse output[y][x].b=0;\n        }\n    }\n}\n"}